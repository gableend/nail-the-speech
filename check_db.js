const { PrismaClient } = require("@prisma/client"); const prisma = new PrismaClient(); async function main() { console.log("=== ANONYMOUS USERS ==="); const anonUsers = await prisma.anonymousUser.findMany({ include: { speeches: true } }); console.log(`Found ${anonUsers.length} anonymous users`); anonUsers.forEach(user => console.log(`- ${user.id}: ${user.speeches.length} speeches`)); console.log("=== ALL SPEECHES ==="); const speeches = await prisma.speech.findMany({ select: { id: true, title: true, userId: true, anonUserId: true, createdAt: true } }); console.log(`Found ${speeches.length} total speeches`); speeches.forEach(speech => console.log(`- ${speech.id}: ${speech.title} (User: ${speech.userId || "none"}, Anon: ${speech.anonUserId || "none"})`)); } main().catch(console.error).finally(() => process.exit(0));
